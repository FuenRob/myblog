{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/como-deshacer-un-commit-erroneo/","result":{"data":{"markdownRemark":{"html":"<p>Es muy posible que hayas querido deshacer un commit en tu proyecto porque pusheaste algo que no deberías... Tranquilo, Git permite deshacerlo todo, así que respira y mira los siguientes comandos.</p>\n<h2>Deshacer el último commit no pusheado</h2>\n<p>Es muy posible que hayas hecho un commit en el que has añadido varios archivos, y alguno de ellos no corresponde al commit que intentas subir. Hay dos formas de deshacer este commit que está en local, en tu equipo, depende de si quieres o no mantener los cambios en los ficheros:</p>\n<p>Si quieres mantenerlos, lanza el siguiente comando:</p>\n<pre><code>git reset --soft HEAD~1\n</code></pre>\n<p>El comando git reset hace que la rama actual retroceda a la revisión que le indicamos. Con el --soft le indicamos que queremos mantener los cambios que habíamos hecho en ese commit. En este caso le decimos HEAD~1 para volver a la versión inmediatamente anterior a la que estamos ahora. La de antes de hacer el commit.</p>\n<p>Si no quieres mantener los cambios, lanza el siguiente comando:</p>\n<pre><code>git reset --hard HEAD~1\n</code></pre>\n<p>Al cambiar el --soft por el --hard le decimos a Git que queremos volver a la versión anterior de código sin guardar los cambios del commit que queremos revertir. Esto es como si no hubiéramos hecho nada, así que piénsalo bien antes de usarlo.</p>\n<h2>Hacer cambios sobre un commit no pusheado</h2>\n<p>Tal vez, quieres hacer unos cambios mínimos sobre el commit que acabas de hacer antes de publicarlo.</p>\n<p>Por ejemplo, si quieres cambiar el mensaje del commit:</p>\n<pre><code>git commit --amend -m \"Mensaje correcto\"\n</code></pre>\n<p>Si lo que quieres es añadir un fichero más, porque lo acabas de editar o porque no lo habías añadido y corresponde a ese commit, debes lanzar el siguiente comando:</p>\n<pre><code>git add path/of/the/file\ngit commit --amend -m \"Mensaje para el commit\"\n</code></pre>\n<p>Al añadir --amend al comando git commit hacemos ediciones sobre el últimos commit, <strong>siempre y cuando aún no esté pusheado (publicado)</strong>.</p>\n<h2>Deshacer el último commit que hemos publicado</h2>\n<p>En esta ocasión, no solo has hecho el commit, si no que has ejecutado el comando git push y tu error está visible para todos los puedan ver ese repositorio. En este caso, solo tienes que lanzar el comando:</p>\n<pre><code>git revert ID_COMMIT\n</code></pre>\n<p>Esto creará un commit con el código previo al commit que le indicas, de este modo habrás deshecho todos los cambios del commit indicado.</p>\n<p>Además al hacerlo así, todos los cambios quedan en Git, incluida la rama que estás revirtiendo, por si te arrepientes de haber revertido los cambios.</p>","frontmatter":{"title":"Cómo deshacer un commit erroneo","date":"2020-11-15","cover":{"publicURL":"/static/1663bd3891c31dc71eb22887786bb242/como-deshacer-un-commit-erroneo.png","childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABkElEQVQoz4VSSW7bMAD0J2JLtmRbiymJpEQtkZVEtiPbp6CnAkEuAfKHPqpP6Df6iv5jOiR8CRAgB544M5yFs4W3wHK1wnqzRhRHSNMUIstQyAJFIWEOA7q9gVYauiyhlILkXUZMukvJiR3XasypNfN8D0EYYLPdIk4S7IRAXhSOWKoS/XlEy2NMg6oyeKorGK0cRhBrOZa7CgJYrZm/9BGsQ2yjCAndZc6dhNIaZuhxnQaczveQFLsOLfaNcXeSGJskSRNytzQVUtC3gkuE61tcRsjyHCXBY1vh8txhemzx5+2C3z8nHE8dzH0DrUv3aOYE0+8FNcF9U6HfN/gx1vj36x1/P15wYZfXY4sHwy7Zo8iEc2gj29pugj4FP0e2cQqO0HcG09jh2pZ4PRo8T3t0jx27lewwd33HSUzBjetw4Xl2FP/TKMKNwtgs/lCXaLlsXreoz08YDz1yDlXYQezKNBDRSOhWXmK+4MrzL7+NgCLJOpEU1lKhGdjd6QG5yFiL/TI7xPHN3S3u3fwO/wFMtezC/eZZLAAAAABJRU5ErkJggg==","aspectRatio":2.4038461538461537,"src":"/static/1663bd3891c31dc71eb22887786bb242/a8378/como-deshacer-un-commit-erroneo.png","srcSet":"/static/1663bd3891c31dc71eb22887786bb242/46604/como-deshacer-un-commit-erroneo.png 500w,\n/static/1663bd3891c31dc71eb22887786bb242/31987/como-deshacer-un-commit-erroneo.png 1000w,\n/static/1663bd3891c31dc71eb22887786bb242/a8378/como-deshacer-un-commit-erroneo.png 1024w","sizes":"(max-width: 1024px) 100vw, 1024px"}}}},"fields":{"slug":"/blog/como-deshacer-un-commit-erroneo/"}},"site":{"siteMetadata":{"comments":{"GATSBY_DISQUS_NAME":"fuenrob"}}}},"pageContext":{"slug":"/blog/como-deshacer-un-commit-erroneo/"}}}